# 🛍️ متجر إلكتروني متكامل

مشروع متجر إلكتروني احترافي ومتكامل يتكون من واجهة خلفية قوية مبنية بـ Node.js/Express وPostgreSQL، وواجهة أمامية حديثة ومتجاوبة مبنية بـ React + Vite مع دعم كامل للغتين العربية والإنجليزية.

## ✨ المميزات الرئيسية

### 🎯 الواجهة الأمامية
- **تصميم متجاوب ومتعدد اللغات** - دعم كامل للعربية والإنجليزية مع RTL/LTR
- **إدارة حالة متقدمة** - باستخدام Zustand للحالة المحلية
- **واجهة مستخدم حديثة** - تصميم جذاب باستخدام TailwindCSS
- **تجربة مستخدم سلسة** - تحميل سريع وتفاعل سلس
- **إدارة الطلبات** - عرض تفصيلي لطلبات المستخدم مع حالات مختلفة
- **سلة تسوق ذكية** - إدارة متقدمة للعناصر
- **نظام مصادقة آمن** - تسجيل دخول/خروج آمن

### ⚙️ الواجهة الخلفية
- **API RESTful متكامل** - نقاط نهاية آمنة ومنظمة
- **نظام مصادقة JWT** - أمان عالي للمستخدمين
- **إدارة المنتجات** - CRUD كامل للمنتجات والفئات
- **نظام طلبات متقدم** - تتبع وإدارة الطلبات
- **لوحة تحكم إدارية** - إدارة شاملة للنظام
- **حماية أمنية** - Helmet, CORS, Validation

## 🛠️ التقنيات المستخدمة

### Backend Stack
- **Node.js** - بيئة تشغيل JavaScript
- **Express.js** - إطار عمل الويب
- **TypeScript** - لغة البرمجة مع التحقق من الأنواع
- **PostgreSQL** - قاعدة بيانات علائقية قوية
- **JWT** - مصادقة المستخدمين
- **bcryptjs** - تشفير كلمات المرور
- **express-validator** - التحقق من صحة البيانات
- **helmet** - حماية HTTP headers
- **cors** - إدارة الطلبات المتقاطعة

### Frontend Stack
- **React 18** - مكتبة واجهة المستخدم
- **Vite** - أداة البناء السريعة
- **TypeScript** - تطوير آمن ومنظم
- **React Router** - التنقل بين الصفحات
- **Axios** - طلبات HTTP
- **Zustand** - إدارة الحالة
- **i18next** - الترجمة والدولنة
- **TailwindCSS** - أطر CSS
- **Lucide React** - أيقونات حديثة

## 📁 بنية المشروع

```
ecommerce/
├── 📁 backend/                    # الخادم الخلفي
│   ├── 📁 src/
│   │   ├── 📁 config/            # إعدادات قاعدة البيانات
│   │   ├── 📁 controllers/       # وحدات التحكم (المنطق التجاري)
│   │   ├── 📁 middleware/        # وسيطات (مصادقة/تحقق/أخطاء)
│   │   ├── 📁 routes/            # تعريف المسارات API
│   │   ├── 📁 types/             # أنواع TypeScript المشتركة
│   │   ├── 📁 utils/             # أدوات (JWT/كلمات مرور)
│   │   └── 📄 index.ts           # نقطة دخول الخادم
│   ├── 📄 package.json
│   └── 📄 tsconfig.json
│
├── 📁 frontend/                   # الواجهة الأمامية
│   ├── 📁 src/
│   │   ├── 📁 components/        # مكونات الواجهة القابلة للإعادة
│   │   ├── 📁 pages/             # صفحات التطبيق
│   │   │   ├── 📁 Admin/         # لوحة التحكم الإدارية
│   │   │   ├── 📁 Auth/          # صفحات المصادقة
│   │   │   ├── 📁 Cart/          # سلة التسوق
│   │   │   ├── 📁 Checkout/      # عملية الدفع
│   │   │   ├── 📁 Products/      # صفحات المنتجات
│   │   │   └── 📁 Home/          # الصفحة الرئيسية
│   │   ├── 📁 lib/               # مكتبات مساعدة
│   │   │   ├── 📁 i18n/          # ملفات الترجمة
│   │   │   └── 📄 apiClient.tsx  # عميل HTTP
│   │   ├── 📁 store/             # إدارة الحالة (Zustand)
│   │   ├── 📁 types/             # أنواع TypeScript
│   │   └── 📄 App.tsx            # المكون الرئيسي
│   ├── 📄 package.json
│   └── 📄 vite.config.ts
│
└── 📄 README.md                   # هذا الملف
```

---

## 📋 المتطلبات المسبقة

قبل البدء، تأكد من توفر ما يلي على نظامك:

- **Node.js** (الإصدار 18 أو أحدث) - [تحميل من هنا](https://nodejs.org/)
- **npm** (يأتي مع Node.js)
- **PostgreSQL** (الإصدار 13 أو أحدث) - [تحميل من هنا](https://www.postgresql.org/download/)
- **Git** (اختياري) - لإدارة النسخ

---

## 🚀 الإعداد السريع

### 1️⃣ استنساخ المشروع
```bash
git clone <repository-url>
cd ecommerce
```

### 2️⃣ تثبيت الاعتماديات

```bash
# تثبيت اعتماديات الخادم الخلفي
cd backend && npm install

# تثبيت اعتماديات الواجهة الأمامية
cd ../frontend && npm install
```

### 3️⃣ إعداد قاعدة البيانات

1. **تشغيل PostgreSQL** على نظامك
2. **إنشاء قاعدة بيانات جديدة**:
```sql
CREATE DATABASE ecommerce_db;
```

### 4️⃣ إعداد متغيرات البيئة

أنشئ ملف `.env` داخل مجلد `backend/` بالمحتوى التالي:

```env
# إعدادات الخادم
PORT=5000
NODE_ENV=development

# إعدادات قاعدة البيانات
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=ecommerce_db

# إعدادات الأمان
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d
```

> ⚠️ **مهم**: استبدل القيم المذكورة بقيمك الفعلية ولا تشارك ملف `.env` علنياً

### 5️⃣ تشغيل التطبيق

**تشغيل الخادم الخلفي:**
```bash
cd backend
npm run dev
```
الخادم سيعمل على: `http://localhost:5000`

**تشغيل الواجهة الأمامية:**
```bash
cd frontend
npm run dev
```
الواجهة ستعمل على: `http://localhost:5173`

### 6️⃣ التحقق من التشغيل

1. افتح المتصفح على `http://localhost:5173`
2. يجب أن ترى صفحة المتجر الرئيسية
3. جرب تسجيل حساب جديد أو تسجيل الدخول

---

## 🔧 أوامر npm المهمة

### Backend Commands
```bash
npm run dev      # تشغيل الخادم مع مراقبة التغييرات
npm run build    # بناء المشروع للإنتاج
npm start        # تشغيل النسخة المبنية
npm run lint     # فحص جودة الكود
```

### Frontend Commands
```bash
npm run dev      # تشغيل خادم التطوير Vite
npm run build    # بناء المشروع للإنتاج
npm run preview  # معاينة النسخة المبنية
npm run lint     # فحص جودة الكود
```

---

## 🌐 API Documentation

### 🔐 المصادقة (`/auth`)
| Method | Endpoint | الوصف | البيانات المطلوبة |
|--------|----------|-------|------------------|
| POST | `/auth/signup` | تسجيل مستخدم جديد | `{ name, email, password }` |
| POST | `/auth/login` | تسجيل الدخول | `{ email, password }` |

### 🛍️ المنتجات (`/products`)
| Method | Endpoint | الوصف | المعاملات |
|--------|----------|-------|-----------|
| GET | `/products` | قائمة المنتجات | `?page=1&limit=10&search=...&category=...` |
| GET | `/products/categories` | قائمة الفئات | - |
| GET | `/products/:slug` | تفاصيل منتج | - |

### 🛒 السلة (`/cart`) - يتطلب JWT
| Method | Endpoint | الوصف | البيانات المطلوبة |
|--------|----------|-------|------------------|
| GET | `/cart` | جلب السلة الحالية | - |
| POST | `/cart/items` | إضافة عنصر للسلة | `{ product_id, quantity }` |
| PATCH | `/cart/items/:id` | تحديث كمية عنصر | `{ quantity }` |
| DELETE | `/cart/items/:id` | حذف عنصر من السلة | - |

### 📦 الطلبات (`/orders`) - يتطلب JWT
| Method | Endpoint | الوصف | البيانات المطلوبة |
|--------|----------|-------|------------------|
| POST | `/orders` | إنشاء طلب جديد | `{ address_id }` |
| GET | `/orders/mine` | طلبات المستخدم | - |

### 👨‍💼 الإدارة (`/admin`) - يتطلب صلاحيات إدارية
| Method | Endpoint | الوصف | البيانات المطلوبة |
|--------|----------|-------|------------------|
| GET | `/admin/products` | إدارة المنتجات | - |
| GET | `/admin/categories` | إدارة الفئات | - |
| PATCH | `/admin/orders/:id/status` | تحديث حالة طلب | `{ status }` |

### 🔍 فحص الصحة
| Method | Endpoint | الوصف |
|--------|----------|-------|
| GET | `/health` | التحقق من عمل الخادم |

---

## 🎨 الواجهة الأمامية

### 📁 إدارة الحالة (Zustand)
- `userStore.ts` - بيانات المستخدم والمصادقة
- `productStore.ts` - المنتجات والفئات
- `cartStore.ts` - سلة التسوق
- `ordersStore.ts` - الطلبات

### 🌍 الترجمة والدولنة
- دعم كامل للعربية والإنجليزية
- ملفات الترجمة في `src/lib/i18n/translations/`
- دعم RTL/LTR تلقائي

### 🎨 التصميم
- **TailwindCSS** للأنماط
- **Lucide React** للأيقونات
- تصميم متجاوب لجميع الأجهزة
- نظام ألوان موحد ومتسق

---

## 🐛 استكشاف الأخطاء الشائعة

### ❌ مشاكل الاتصال
- **منفذ مشغول**: غيّر `PORT` في `.env`
- **خطأ CORS**: تأكد من إعدادات `cors` في الخادم
- **قاعدة البيانات**: تحقق من بيانات الاتصال في `.env`

### 🔧 مشاكل التطوير
- **TypeScript errors**: تشغيل `npm run build` للتحقق
- **Hot reload لا يعمل**: إعادة تشغيل خادم التطوير
- **Dependencies issues**: حذف `node_modules` وإعادة التثبيت

### 🌐 مشاكل الشبكة
```bash
# فحص حالة الخادم
curl http://localhost:5000/health

# فحص الاتصال بقاعدة البيانات
npm run db:test  # إذا كان متوفراً
```

---

## 🔒 الأمان

### 🛡️ إجراءات الأمان المطبقة
- **JWT Authentication** - مصادقة آمنة
- **Password Hashing** - تشفير كلمات المرور
- **Helmet.js** - حماية HTTP headers
- **CORS** - إدارة الطلبات المتقاطعة
- **Input Validation** - التحقق من البيانات المدخلة

### ⚠️ نصائح أمنية مهمة
- لا تشارك ملف `.env` علنياً
- استخدم `JWT_SECRET` قوي ومعقد
- فعّل HTTPS في الإنتاج
- راجع صلاحيات قاعدة البيانات بانتظام

---

## 🚀 النشر والإنتاج

### 📦 بناء المشروع للإنتاج
```bash
# Backend
cd backend && npm run build

# Frontend  
cd frontend && npm run build
```

### 🌍 متغيرات البيئة للإنتاج
```env
NODE_ENV=production
PORT=3000
DB_HOST=your_production_db_host
JWT_SECRET=your_production_secret
```

---

## 📝 الترخيص

هذا المشروع مطور لأغراض تعليمية وتعلمية. يمكن استخدامه كمرجع أو نقطة بداية لمشاريعك الخاصة.

---

## 🤝 المساهمة

نرحب بمساهماتكم! يرجى:
1. Fork المشروع
2. إنشاء branch جديد للميزة
3. Commit التغييرات
4. Push إلى Branch
5. فتح Pull Request

---

## 📞 الدعم والمساعدة

إذا واجهت أي مشاكل أو لديك أسئلة:
- راجع قسم استكشاف الأخطاء أعلاه
- تحقق من Issues في المشروع
- أنشئ Issue جديد مع تفاصيل المشكلة

---

<div align="center">
  <p>تم تطوير هذا المشروع بـ ❤️ باستخدام أحدث التقنيات</p>
  <p>⭐ إذا أعجبك المشروع، لا تنس إعطاؤه نجمة!</p>
</div>


